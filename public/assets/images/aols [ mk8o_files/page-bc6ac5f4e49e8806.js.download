(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3289],{84507:function(t,e,r){Promise.resolve().then(r.bind(r,45909)),Promise.resolve().then(r.t.bind(r,16414,23))},62633:function(t,e,r){"use strict";var n=r(3827);r(64090);var a=r(55647);e.Z=t=>{let{currentPage:e,totalPages:r,handlePageChange:o,setCurrentPage:c}=t;return(0,n.jsxs)("div",{className:"flex items-center lg:justify-end justify-center lg:w-[80%] lg:mx-auto mx-5 mt-20 gap-1",children:[(0,n.jsx)("h1",{onClick:()=>o(e-1),className:"bg-white text-center flex justify-center items-center rounded-md border border-[#959595] lg:w-10 lg:h-10 w-8 h-8 ".concat(1===e?"text-[#808080]":"text-black cursor-pointer"),children:(0,n.jsx)(a.pgl,{})}),(0,n.jsx)("div",{className:"border border-[#959595] bg-white rounded-lg flex items-center",children:Array.from({length:r},(t,r)=>(0,n.jsx)("h1",{onClick:()=>c(r+1),className:"flex flex-col justify-center rounded-lg items-center lg:w-10 lg:h-10 w-8 h-8 text-black ".concat(e===r+1?"paginationShadow":""," cursor-pointer"),children:r+1},r))}),(0,n.jsx)("h1",{onClick:()=>o(e+1),className:"bg-white text-center flex justify-center items-center rounded-md border border-[#959595] lg:w-10 lg:h-10 w-8 h-8 ".concat(e===r?"text-[#808080]":"text-black cursor-pointer"),children:(0,n.jsx)(a.QSP,{})})]})}},45909:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return m}});var n=r(3827),a=r(20703),o=r(64090),c=r(30192),i=r(89071),l=r(89753),s=r(30828),u=r(87566),d=t=>{var e;let{product:r}=t,o=(0,s.I0)(),c=(0,s.v9)(t=>t.cart),i=c.some(t=>t.id===r.id),l=t=>{i?o((0,u.cl)(t)):o((0,u.jX)(t))},d=t=>{var e;let r=c.find(e=>e.id===t),n=null===(e=c.find(e=>e.id===t))||void 0===e?void 0:e.stock;r&&n&&r.quantity<n?o((0,u.Qd)({id:t})):alert("Cannot add more than available stock.")},p=t=>{o((0,u.a3)({id:t}))};return(0,n.jsxs)("div",{className:"box-border bg-[#333333] shadow rounded-md p-4  xl:w-[260px]  lg:w-[255px]  md:w-[240px] w-[260px] mx-auto flex flex-col hover:border-[1.62px] hover:border-[#FFA500] ",style:{boxShadow:"5.68px 5.68px 17.04px 0px rgba(0, 0, 0, 0.25)"},children:[(0,n.jsx)("div",{className:"relative w-full h-40 mb-4",children:(0,n.jsx)(a.default,{src:"".concat("https://backend.basketball.mayonity.com/upload","/").concat(r.images[0])||0,alt:r.name,className:"object-cover rounded",layout:"fill",style:{boxShadow:"3.04px 3.04px 9.12px 0px rgba(0, 0, 0, 0.25)"}})}),(0,n.jsx)("h3",{className:"text-lg font-semibold",children:r.name}),(0,n.jsxs)("div",{className:"flex justify-between items-center mt-6",children:[(0,n.jsxs)("p",{className:"font-bold",children:["$",r.selling_price]}),(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)("button",{onClick:()=>p(null==r?void 0:r.id),disabled:!i,className:"w-[18px] h-[18px] flex items-center justify-center px-2 py-1 border-[1.8px] rounded text-lg\n                 ".concat(i?"":"opacity-50 cursor-arrow","\n              "),children:"-"}),(0,n.jsx)("span",{className:"text-[#FFA500] text-[14px]",children:(null==c?void 0:null===(e=c.find(t=>t.id===r.id))||void 0===e?void 0:e.quantity)||1})," ",(0,n.jsx)("button",{onClick:()=>d(null==r?void 0:r.id),disabled:!i,className:"w-[18px] h-[18px] flex items-center justify-center px-2 py-1 border-[1.8px] rounded text-lg ".concat(i?"":"opacity-50 cursor-arrow"),children:"+"})]})]}),(0,n.jsx)("div",{className:"\n          bg-[#FFA500] py-2.5 px-3 mb-2 mt-8 text-black text-center cursor-pointer rounded-lg font-bold text-sm w-40  mx-auto",style:{boxShadow:"5.68px 5.68px 17.04px 0px rgba(0, 0, 0, 0.25)"},onClick:()=>l(r),children:i?"Remove from Cart":"Add to Cart"})]},r.id)},p=r(62633),m=()=>{let[t,e]=(0,o.useState)("All"),[r,m]=(0,o.useState)(!1),f=(0,s.I0)(),[h,y]=(0,o.useState)([]),[g,x]=(0,o.useState)([]),b="All"===t?g:g.filter(e=>{var r;return(null==e?void 0:null===(r=e.category)||void 0===r?void 0:r.name)===t}),[v,w]=(0,o.useState)(1),[j,k]=(0,o.useState)(0);return(0,o.useEffect)(()=>{let t=async()=>{try{let{data:{products:t}}=await (0,l.c)(),e=t.filter(t=>"true"===t.status);x(e),k(Math.ceil(e.length/8))}catch(t){console.error("Failed to fetch products data:",t)}};(async()=>{try{let{data:{categories:t}}=await (0,i.SZ)(),e=await Promise.all(t.map(async t=>{let e=await (0,l.V8)(t.id);return{...t,productsCount:e.length}})),r=e.filter(t=>!0===t.status&&t.productsCount>0);console.log("categoryWithProductsCount ",e),y([{id:"all10",name:"All",status:!0},...r])}catch(t){console.error("Failed to fetch categories data:",t)}})(),t(),f((0,u.qh)())},[]),(0,n.jsx)("div",{className:"min-h-screen  bg-[#333333] ",children:(0,n.jsxs)("div",{className:"flex h-full",children:[(0,n.jsx)("aside",{style:{boxShadow:"8px 8px 24px rgba(0, 0, 0, 0.25)"},className:"fixed top-[70px] overflow-auto lg:top-0  left-0 w-64 min-h-full   bg-[#333333]  boxShadow  transform transition-transform duration-300 ease-in-out ".concat(r?"translate-x-0 z-40":"-translate-x-full"," lg:relative lg:translate-x-0 lg:w-56"),children:(0,n.jsx)("div",{className:"pb-16 pt-9 relative h-screen overflow-auto",children:(0,n.jsx)("ul",{children:h.map(r=>(0,n.jsx)("li",{className:"mb-2",children:(0,n.jsxs)("div",{onClick:()=>{e(r.name),m(!1)},className:"relative block w-full text-left px-4 py-3 rounded-r flex items-center gap-2 cursor-pointer ".concat(t===r.name?"bg-[#FFA500]  pl-8 text-white   ":" pl-10"),children:[(0,n.jsx)("div",{className:" h-full w-6 text-black bg-black absolute top-0 bottom-0 rounded-full -left-[18px]\n    ".concat(t===r.name?"block   ":"hidden"),children:","}),r.images?(0,n.jsx)(a.default,{src:r.images?"".concat("https://backend.basketball.mayonity.com/upload","/").concat(JSON.parse(r.images)[0]):"all.jpg",alt:"reports",className:"w-[28px] h-[28px] rounded-full object-cover",unoptimized:!0,width:"28",height:"28"}):(0,n.jsx)("div",{className:"w-[28px] h-[28px] "}),r.name]})},r.name))})})}),r&&(0,n.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden",onClick:()=>m(!1)}),(0,n.jsxs)("main",{className:"  flex-1 pt-12 px-5 pb-5 xl:pl-12 ",children:[(0,n.jsxs)("div",{className:"flex items-center md:gap-4 gap-1  mb-4 ",children:[(0,n.jsx)("h1",{className:"md:text-3xl text-md font-bold  xl:pl-0 pl-8 ",children:"Products"}),(0,n.jsx)(c.wrD,{className:"text-[#FFA500] md:text-3xl text-xl cursor-pointer  lg:invisible",onClick:()=>m(!r)})]}),(0,n.jsx)("div",{className:"grid    xl:grid-cols-4 md:grid-cols-3  sm:grid-cols-2  grid-cols-1 gap-4 ",children:null==b?void 0:b.map((t,e)=>(0,n.jsx)(d,{product:t},e))}),(null==g?void 0:g.length)>0&&(0,n.jsx)(p.Z,{currentPage:v,totalPages:j,handlePageChange:t=>{t>=1&&t<=j&&w(t)},setCurrentPage:w})]})]})})}},87566:function(t,e,r){"use strict";r.d(e,{Qd:function(){return i},a3:function(){return l},cl:function(){return c},jX:function(){return o},qh:function(){return a}});let n=(0,r(68508).oM)({name:"cart",initialState:[],reducers:{loadCartFromStorage:t=>{let e=localStorage.getItem("cart");if(e){let t=JSON.parse(e),r=Date.now();return(null==t?void 0:t.filter(t=>r-t.timestamp<1728e5))||[]}return t},addItem:(t,e)=>{let r=e.payload;t.find(t=>t.id===r.id)?console.warn("Item Already in cart"):t.push({...r,quantity:1,timestamp:Date.now()}),localStorage.setItem("cart",JSON.stringify(t))},removeItem:(t,e)=>{let r=t.filter(t=>t.id!==e.payload.id);return localStorage.setItem("cart",JSON.stringify(r)),r},increaseQuantity:(t,e)=>{let r=t.find(t=>t.id===e.payload.id);r&&(r.quantity+=1,r.timestamp=Date.now()),localStorage.setItem("cart",JSON.stringify(t))},decreaseQuantity:(t,e)=>{let r=t.find(t=>t.id===e.payload.id);r&&r.quantity>1&&(r.quantity-=1,r.timestamp=Date.now()),localStorage.setItem("cart",JSON.stringify(t))},removeExpiredItems:t=>{let e=Date.now(),r=t.filter(t=>e-t.timestamp<1728e5);return localStorage.setItem("cart",JSON.stringify(r)),r}}}),{loadCartFromStorage:a,addItem:o,removeItem:c,increaseQuantity:i,decreaseQuantity:l,removeExpiredItems:s}=n.actions;e.ZP=n.reducer},89753:function(t,e,r){"use strict";r.d(e,{K2:function(){return l},Rl:function(){return a},Sf:function(){return c},T:function(){return i},V8:function(){return s},c:function(){return o}});var n=r(73107);let a=async(t,e)=>{try{return await n.Z.post("".concat("https://backend.basketball.mayonity.com/api","/product/add"),t,{headers:{Authorization:"Bearer ".concat(e)}})}catch(t){return t.response}},o=async()=>{try{return await n.Z.get("".concat("https://backend.basketball.mayonity.com/api","/product/all"))}catch(t){return console.log("all Products",t.response),t.response||{message:"An error occurred",error:t}}},c=async t=>{try{return(await n.Z.get("".concat("https://backend.basketball.mayonity.com/api","/product/").concat(t))).data}catch(t){throw Error("Error fetching product data")}},i=async(t,e)=>{try{return await n.Z.put("".concat("https://backend.basketball.mayonity.com/api","/product/update"),t,{headers:{Authorization:"Bearer ".concat(e)}})}catch(t){return console.log("product service error",t.message),t.response||{message:"An error occurred",error:t}}},l=async(t,e)=>{try{return await n.Z.delete("".concat("https://backend.basketball.mayonity.com/api","/product/").concat(t.id,"}"),{headers:{Authorization:"Bearer ".concat(e)}})}catch(t){return t.response||{message:"An error occurred",error:t}}},s=async t=>{try{let e=await n.Z.get("".concat("https://backend.basketball.mayonity.com/api","/product/category/").concat(t));return null==e?void 0:e.data}catch(t){throw console.error("Error fetching products by category:",t.message),t}}},89071:function(t,e,r){"use strict";r.d(e,{B5:function(){return l},SZ:function(){return o},Yn:function(){return i},ax:function(){return c},i8:function(){return a}});var n=r(73107);let a=async(t,e)=>{try{return await n.Z.post("".concat("https://backend.basketball.mayonity.com/api","/category/add"),t,{headers:{Authorization:"Bearer ".concat(e)}})}catch(t){return t.response}},o=async()=>{try{return await n.Z.get("".concat("https://backend.basketball.mayonity.com/api","/category/all"))}catch(t){return console.log("all Categories",t.response),t.response||{message:"An error occurred",error:t}}},c=async t=>{try{return(await n.Z.get("".concat("https://backend.basketball.mayonity.com/api","/category/").concat(t))).data}catch(t){throw Error("Error fetching category data")}},i=async(t,e)=>{try{return await n.Z.put("".concat("https://backend.basketball.mayonity.com/api","/category/update"),t,{headers:{Authorization:"Bearer ".concat(e)}})}catch(t){return console.log("category service error",t.message),t.response||{message:"An error occurred",error:t}}},l=async(t,e)=>{try{return await n.Z.delete("".concat("https://backend.basketball.mayonity.com/api","/category/").concat(t.id,"}"),{headers:{Authorization:"Bearer ".concat(e)}})}catch(t){return t.response||{message:"An error occurred",error:t}}}},49079:function(t,e,r){"use strict";var n,a;t.exports=(null==(n=r.g.process)?void 0:n.env)&&"object"==typeof(null==(a=r.g.process)?void 0:a.env)?r.g.process:r(13127)},13127:function(t){"use strict";!function(){var e={229:function(t){var e,r,n,a=t.exports={};function o(){throw Error("setTimeout has not been defined")}function c(){throw Error("clearTimeout has not been defined")}function i(t){if(e===setTimeout)return setTimeout(t,0);if((e===o||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(r){try{return e.call(null,t,0)}catch(r){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:o}catch(t){e=o}try{r="function"==typeof clearTimeout?clearTimeout:c}catch(t){r=c}}();var l=[],s=!1,u=-1;function d(){s&&n&&(s=!1,n.length?l=n.concat(l):u=-1,l.length&&p())}function p(){if(!s){var t=i(d);s=!0;for(var e=l.length;e;){for(n=l,l=[];++u<e;)n&&n[u].run();u=-1,e=l.length}n=null,s=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===c||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function m(t,e){this.fun=t,this.array=e}function f(){}a.nextTick=function(t){var e=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];l.push(new m(t,e)),1!==l.length||s||i(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=f,a.addListener=f,a.once=f,a.off=f,a.removeListener=f,a.removeAllListeners=f,a.emit=f,a.prependListener=f,a.prependOnceListener=f,a.listeners=function(t){return[]},a.binding=function(t){throw Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(t){throw Error("process.chdir is not supported")},a.umask=function(){return 0}}},r={};function n(t){var a=r[t];if(void 0!==a)return a.exports;var o=r[t]={exports:{}},c=!0;try{e[t](o,o.exports,n),c=!1}finally{c&&delete r[t]}return o.exports}n.ab="//";var a=n(229);t.exports=a}()},16414:function(){},70158:function(t,e,r){"use strict";r.d(e,{w_:function(){return u}});var n=r(64090),a={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},o=n.createContext&&n.createContext(a),c=["attr","size","title"];function i(){return(i=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function s(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach(function(e){var n,a;n=e,a=r[e],(n=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(n))in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function u(t){return e=>n.createElement(d,i({attr:s({},t.attr)},e),function t(e){return e&&e.map((e,r)=>n.createElement(e.tag,s({key:r},e.attr),t(e.child)))}(t.child))}function d(t){var e=e=>{var r,{attr:a,size:o,title:l}=t,u=function(t,e){if(null==t)return{};var r,n,a=function(t,e){if(null==t)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)r=o[n],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}(t,c),d=o||e.size||"1em";return e.className&&(r=e.className),t.className&&(r=(r?r+" ":"")+t.className),n.createElement("svg",i({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,a,u,{className:r,style:s(s({color:t.color||e.color},e.style),t.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&n.createElement("title",null,l),t.children)};return void 0!==o?n.createElement(o.Consumer,null,t=>e(t)):e(a)}}},function(t){t.O(0,[6844,1994,703,3107,8895,828,8508,2971,8069,1744],function(){return t(t.s=84507)}),_N_E=t.O()}]);